<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtmll/DTD/xhtmll-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/WEB-INF/template/template.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">


	<ui:define name="title">
		<title>Home</title>
	</ui:define>

	<ui:define name="content">

		<!-- top navbar-->

		<aside class="offsidebar d-none"> <!-- START Off Sidebar (right)-->
		<!-- END Off Sidebar (right)--> </aside>
		<!-- Main section-->

			<!-- Page content-->

<ui:insert>
			<h:form>
			<h:column>		<p:commandButton class="btn btn-sm btn-info "
							 icon="fa fa-fw fa-plus" styleClass="btn" action="#{missionBean.backToAdd()}" value="Back to Add" />
					</h:column>
				<h:dataTable   styleClass="table table-bordered table-hover" value="#{missionBean.demandes}" var="d">

					<h:column>
						<f:facet name="header">
							<h:outputText value="--- Employee Name ---    " />
						</f:facet>
						<h:outputText value="#{d.employe.nom}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="   --- Mission ---" />
						</f:facet>
						<h:outputText value="#{d.mission.nomMission}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="---Validation---" />
						</f:facet>
						<h:outputText value="#{d.isValide}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="---State---" />
						</f:facet>
						<h:outputText value="#{d.etat}" />
					</h:column>

					<h:column>
					<f:facet name="header">
							<h:outputText value="---Actions---" />
						</f:facet>
						<p:commandButton action="#{missionBean.approveMission(d)}" class="btn btn-sm btn-success mr-2 command-edit"
							value="Validate" icon="fa fa-fw fa-check" />
							<p:commandButton action="#{missionBean.refuserMission(d)}" class="btn btn-sm btn-danger mr-2 command-edit"
							value="Refuse" icon="fa fa-fw fa-exclamation-triangle" />
							
						
					</h:column>
					
				</h:dataTable>
			</h:form>
</ui:insert>

		<!-- Page footer-->


	</ui:define>


</ui:composition>